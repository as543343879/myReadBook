package com.acm.lico.dict; /**
 560 ,å’Œä¸º K çš„å­æ•°ç»„
 //ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° k ï¼Œè¯·ä½ ç»Ÿè®¡å¹¶è¿”å› è¯¥æ•°ç»„ä¸­å’Œä¸º k çš„è¿ç»­å­æ•°ç»„çš„ä¸ªæ•° ã€‚
 //
 //
 //
 // ç¤ºä¾‹ 1ï¼š
 //
 //
 //è¾“å…¥ï¼šnums = [1,1,1], k = 2
 //è¾“å‡ºï¼š2
 //
 //
 // ç¤ºä¾‹ 2ï¼š
 //
 //
 //è¾“å…¥ï¼šnums = [1,2,3], k = 3
 //è¾“å‡ºï¼š2
 //
 //
 //
 //
 // æç¤ºï¼š
 //
 //
 // 1 <= nums.length <= 2 * 10â´
 // -1000 <= nums[i] <= 1000
 // -10â· <= k <= 10â·
 //
 //
 // Related Topics æ•°ç»„ å“ˆå¸Œè¡¨ å‰ç¼€å’Œ ğŸ‘ 1800 ğŸ‘ 0

 **/

import java.util.HashMap;
import java.util.Map;

/**
 1 å¤æ‚åº¦åˆ†æ
 ä¼°ç®—é—®é¢˜ä¸­å¤æ‚åº¦çš„ä¸Šé™å’Œä¸‹é™
 æ—¶é—´å¤æ‚åº¦
 ç©ºé—´å¤æ‚åº¦
 O(1) ä¸€ä¸ªå¸¸é‡ä¸‹å®Œæˆ
 O(n) ä¸€æ¬¡éå†
 O(logn) æŠ˜åŠæŸ¥è¯¢
 O(n^2) ä¸¤é‡åµŒå¥—å¾ªç¯æŸ¥è¯¢

 å®˜ç½‘æ€è·¯ï¼š
 æ—¶é—´å¤æ‚åº¦O(N^2)
 ç©ºé—´å¤æ‚åº¦O(1)

 å®˜æ–¹æ€è·¯2ï¼š
 æ—¶é—´å¤æ‚åº¦O(N)
 ç©ºé—´å¤æ‚åº¦O(N)

 2 å®šä½é—®é¢˜
 æ ¹æ®é—®é¢˜ç±»å‹ï¼Œç¡®å®šé‡‡ç”¨ä½•ç§ç®—æ³•æ€ç»´ã€‚
 ä¾‹å¦‚
 è¿™ä¸ªé—®é¢˜æ˜¯ä»€ä¹ˆç±»å‹ï¼ˆæ’åºã€æŸ¥æ‰¾ã€æœ€ä¼˜åŒ–ï¼‰çš„é—®é¢˜ï¼›
 è¿™ä¸ªé—®é¢˜çš„å¤æ‚åº¦ä¸‹é™æ˜¯å¤šå°‘ï¼Œå³æœ€ä½çš„æ—¶é—´å¤æ‚åº¦å¯èƒ½æ˜¯å¤šå°‘ï¼›
 é‡‡ç”¨å“ªäº›æ•°æ®ç»“æ„æˆ–ç®—æ³•æ€ç»´ï¼Œèƒ½æŠŠè¿™ä¸ªé—®é¢˜è§£å†³ã€‚
 è‡ªå·±æ€è·¯ï¼š
 æšä¸¾ ä»¥left ä¸ºèµ·ç‚¹çš„å€¼ï¼Œ right ä¸ºç»ˆç‚¹æ˜¯å¦ç­‰äº kã€‚
 ç„¶åæšä¸¾
 ç„¶åå³ç§»ä¸€ä½ï¼Œæˆ–è€… å³è¾¹ j+1 æ˜¯å¦ç­‰äºk

 å®˜ç½‘æ€è·¯ï¼š è‡ªå·±æ€è·¯é”™äº†ï¼Œä»¥ä¸ºæ˜¯è¿ç»­ä¸ªå’Œä¸ºk çš„æ•°ç»„ã€‚ åªè¦å’Œä¸ºkå°±å¯ä»¥äº†
 æšä¸¾ä»å·¦åˆ°å³çš„æ‰€æœ‰èµ·ç‚¹ï¼š
 ä»¥å½“å‰èµ·ç‚¹ä»å³åˆ°å·¦ ç­‰äºk çš„ã€‚

 å®˜æ–¹æ€è·¯2ï¼š
 å‡å¦‚  ä¸‹æ ‡ i,j å’Œä¸º kã€‚ sum(j) - sum(j-1) = k;
 sum[j] - k = sum[j-1]
 ç”¨map æŠŠ ä»å·¦åˆ°å³çš„ sumè®°å½•èµ·æ¥ã€‚å‡å¦‚count += map.get(sum[j] -k);



 3 æ•°æ®æ“ä½œåˆ†æ
 æ ¹æ®å¢ã€åˆ ã€æŸ¥å’Œæ•°æ®é¡ºåºå…³ç³»å»é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œåˆ©ç”¨ç©ºé—´æ¢å–æ—¶é—´ã€‚
 4 ç¼–ç å®ç°
 5 æ‰§è¡Œç»“æœ
 å®˜ç½‘æ€è·¯ï¼š
 è§£ç­”æˆåŠŸ:
 æ‰§è¡Œè€—æ—¶:1842 ms,å‡»è´¥äº†5.06% çš„Javaç”¨æˆ·
 å†…å­˜æ¶ˆè€—:44.7 MB,å‡»è´¥äº†75.04% çš„Javaç”¨æˆ·

 è§£ç­”æˆåŠŸ:
 æ‰§è¡Œè€—æ—¶:1171 ms,å‡»è´¥äº†38.16% çš„Javaç”¨æˆ·
 å†…å­˜æ¶ˆè€—:44.8 MB,å‡»è´¥äº†68.24% çš„Javaç”¨æˆ·

 å®˜æ–¹æ€è·¯2ï¼š
 è§£ç­”æˆåŠŸ:
 æ‰§è¡Œè€—æ—¶:22 ms,å‡»è´¥äº†89.34% çš„Javaç”¨æˆ·
 å†…å­˜æ¶ˆè€—:45 MB,å‡»è´¥äº†61.53% çš„Javaç”¨æˆ·
 */
//leetcode submit region begin(Prohibit modification and deletion)
class Solution560 {

    public int subarraySum(int[] nums, int k) {
        int count = 0;
        Map<Integer,Integer> preMap = new HashMap<>();
        preMap.put(0,1);
        int pre = 0;
        for(int i = 0; i < nums.length ; i ++) {
            pre += nums[i];
            Integer preK = preMap.get(pre - k);
            if(preK != null) {
                count += preK;
            }
            preMap.put(pre, preMap.getOrDefault(pre,0)  + 1);

        }
        return count;
    }
    public int subarraySum3(int[] nums, int k) {
        int count = 0;
        for(int start = nums.length - 1; start >= 0; start --) {
            int sum  = 0;
            for(int end = start; end >= 0;  end -- ) {
                sum += nums[end];
                if(sum == k) {
                    count ++;
                }
            }
        }
        return count;
    }

    public int subarraySum2(int[] nums, int k) {
        int count = 0;
        for(int start = 0; start < nums.length; start ++) {
            int sum  = 0;
            for(int end = start; end >= 0;  end -- ) {
                sum += nums[end];
                if(sum == k) {
                    count ++;
                }
            }
        }
        return count;
    }
}
//leetcode submit region end(Prohibit modification and deletion)
