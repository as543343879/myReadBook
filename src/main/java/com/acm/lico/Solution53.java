package com.acm.lico; /**
 53 ,æœ€å¤§å­æ•°ç»„å’Œ
 //ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œè¯·ä½ æ‰¾å‡ºä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚
 //
 // å­æ•°ç»„ æ˜¯æ•°ç»„ä¸­çš„ä¸€ä¸ªè¿ç»­éƒ¨åˆ†ã€‚
 //
 //
 //
 // ç¤ºä¾‹ 1ï¼š
 //
 //
 //è¾“å…¥ï¼šnums = [-2,1,-3,4,-1,2,1,-5,4]
 //è¾“å‡ºï¼š6
 //è§£é‡Šï¼šè¿ç»­å­æ•°ç»„Â [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸ºÂ 6 ã€‚
 //
 //
 // ç¤ºä¾‹ 2ï¼š
 //
 //
 //è¾“å…¥ï¼šnums = [1]
 //è¾“å‡ºï¼š1
 //
 //
 // ç¤ºä¾‹ 3ï¼š
 //
 //
 //è¾“å…¥ï¼šnums = [5,4,-1,7,8]
 //è¾“å‡ºï¼š23
 //
 //
 //
 //
 // æç¤ºï¼š
 //
 //
 // 1 <= nums.length <= 10âµ
 // -10â´ <= nums[i] <= 10â´
 //
 //
 //
 //
 // è¿›é˜¶ï¼šå¦‚æœä½ å·²ç»å®ç°å¤æ‚åº¦ä¸º O(n) çš„è§£æ³•ï¼Œå°è¯•ä½¿ç”¨æ›´ä¸ºç²¾å¦™çš„ åˆ†æ²»æ³• æ±‚è§£ã€‚
 //
 // Related Topics æ•°ç»„ åˆ†æ²» åŠ¨æ€è§„åˆ’ ğŸ‘ 5886 ğŸ‘ 0

 **/


/**
 1 å¤æ‚åº¦åˆ†æ
 ä¼°ç®—é—®é¢˜ä¸­å¤æ‚åº¦çš„ä¸Šé™å’Œä¸‹é™
 æ—¶é—´å¤æ‚åº¦
 ç©ºé—´å¤æ‚åº¦
 O(1) ä¸€ä¸ªå¸¸é‡ä¸‹å®Œæˆ
 O(n) ä¸€æ¬¡éå†
 O(logn) æŠ˜åŠæŸ¥è¯¢
 O(n^2) ä¸¤é‡åµŒå¥—å¾ªç¯æŸ¥è¯¢
 2 å®šä½é—®é¢˜
 æ ¹æ®é—®é¢˜ç±»å‹ï¼Œç¡®å®šé‡‡ç”¨ä½•ç§ç®—æ³•æ€ç»´ã€‚
 ä¾‹å¦‚
 è¿™ä¸ªé—®é¢˜æ˜¯ä»€ä¹ˆç±»å‹ï¼ˆæ’åºã€æŸ¥æ‰¾ã€æœ€ä¼˜åŒ–ï¼‰çš„é—®é¢˜ï¼›
 è¿™ä¸ªé—®é¢˜çš„å¤æ‚åº¦ä¸‹é™æ˜¯å¤šå°‘ï¼Œå³æœ€ä½çš„æ—¶é—´å¤æ‚åº¦å¯èƒ½æ˜¯å¤šå°‘ï¼›
 é‡‡ç”¨å“ªäº›æ•°æ®ç»“æ„æˆ–ç®—æ³•æ€ç»´ï¼Œèƒ½æŠŠè¿™ä¸ªé—®é¢˜è§£å†³ã€‚

 è‡ªå·±æ€è·¯ï¼šåŠ¨æ€è§„åˆ’
 dp[i][j][2] è¡¨ç¤º ä¸‹æ ‡ i-j çš„å’Œçš„æœ€å¤§å€¼
 dp[i][j] =

 å®˜æ–¹æ€è·¯ï¼š
 é‡ç‚¹ï¼š å‘å³éå†ï¼Œä¼šä¸ä¼šå‡ºç°æŸä¸ªæ•°çš„å€¼ï¼Œ å¤§äº è¿™ä¸ªæ•° + ä¹‹å‰çš„å€¼ã€‚ åˆ¤æ–­ä¹‹å‰çš„å€¼æ˜¯å¦éœ€è¦ç»§æ‰¿
 pre = max(num[i], num[i] + pre)
 maxRes = max(maxRest, pre)


 3 æ•°æ®æ“ä½œåˆ†æ
 æ ¹æ®å¢ã€åˆ ã€æŸ¥å’Œæ•°æ®é¡ºåºå…³ç³»å»é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œåˆ©ç”¨ç©ºé—´æ¢å–æ—¶é—´ã€‚
 4 ç¼–ç å®ç°
 5 æ‰§è¡Œç»“æœ

 å®˜æ–¹æ€è·¯ï¼š
 è§£ç­”æˆåŠŸ:
 æ‰§è¡Œè€—æ—¶:1 ms,å‡»è´¥äº†100.00% çš„Javaç”¨æˆ·
 å†…å­˜æ¶ˆè€—:50.5 MB,å‡»è´¥äº†71.35% çš„Javaç”¨æˆ·
 */
//leetcode submit region begin(Prohibit modification and deletion)
class Solution53 {
    /**
     1 å¤æ‚åº¦åˆ†æ
     ä¼°ç®—é—®é¢˜ä¸­å¤æ‚åº¦çš„ä¸Šé™å’Œä¸‹é™
     æ—¶é—´å¤æ‚åº¦  O(N)
     ç©ºé—´å¤æ‚åº¦  O(N)
     O(1) ä¸€ä¸ªå¸¸é‡ä¸‹å®Œæˆ
     O(n) ä¸€æ¬¡éå†
     O(logn) æŠ˜åŠæŸ¥è¯¢
     O(n^2) ä¸¤é‡åµŒå¥—å¾ªç¯æŸ¥è¯¢
     2 å®šä½é—®é¢˜
     æ ¹æ®é—®é¢˜ç±»å‹ï¼Œç¡®å®šé‡‡ç”¨ä½•ç§ç®—æ³•æ€ç»´ã€‚
     ä¾‹å¦‚
     è¿™ä¸ªé—®é¢˜æ˜¯ä»€ä¹ˆç±»å‹ï¼ˆæ’åºã€æŸ¥æ‰¾ã€æœ€ä¼˜åŒ–ï¼‰çš„é—®é¢˜ï¼›
     è¿™ä¸ªé—®é¢˜çš„å¤æ‚åº¦ä¸‹é™æ˜¯å¤šå°‘ï¼Œå³æœ€ä½çš„æ—¶é—´å¤æ‚åº¦å¯èƒ½æ˜¯å¤šå°‘ï¼›
     é‡‡ç”¨å“ªäº›æ•°æ®ç»“æ„æˆ–ç®—æ³•æ€ç»´ï¼Œèƒ½æŠŠè¿™ä¸ªé—®é¢˜è§£å†³ã€‚
     æ€è·¯ï¼š åŠ¨æ€è§„åˆ’ dp[i] è¡¨ç¤º åˆ°å°æ ‡i çš„æœ€å¤§å’Œ
     åŠ¨æ€è½¬ç§»å…¬å¼ï¼š dp[i] =  å¦‚æœ mus[i] + dp[i-1] > nums[i]  ? mus[i] + dp[i-1] : nums[i] ;
     3 æ•°æ®æ“ä½œåˆ†æ
     æ ¹æ®å¢ã€åˆ ã€æŸ¥å’Œæ•°æ®é¡ºåºå…³ç³»å»é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œåˆ©ç”¨ç©ºé—´æ¢å–æ—¶é—´ã€‚
     4 ç¼–ç å®ç°
     5 æ‰§è¡Œç»“æœ
     è§£ç­”æˆåŠŸ:
     æ‰§è¡Œè€—æ—¶:2 ms,å‡»è´¥äº†44.22% çš„Javaç”¨æˆ·
     å†…å­˜æ¶ˆè€—:56.4 MB,å‡»è´¥äº†37.74% çš„Javaç”¨æˆ·
     */
    public int maxSubArrayNew20(int[] nums) {
        if(nums == null || nums.length == 0) {
            return 0;
        }
        int[] dp = new int[nums.length];
        dp[0] = nums[0];
        int max = dp[0];
        for(int i = 1; i < nums.length; i ++) {
            int temp = dp[i-1] + nums[i];
            dp[i] = temp > nums[i] ? temp : nums[i];
            if(max < dp[i]) {
                max = dp[i];
            }

        }
        return max;
    }

    public int maxSubArrayNew21(int[] nums) {
        int pre = 0, maxAns = nums[0];
        for (int x : nums) {
            pre = Math.max(pre + x, x);
            maxAns = Math.max(maxAns, pre);
        }
        return maxAns;
    }
    public int maxSubArray(int[] nums) {
        if(nums == null || nums.length == 0) {
            return 0;
        }
        int pre = 0;
        int res = nums[0];
        for(int i = 0 ; i < nums.length; i ++) {
            pre = Math.max(nums[i], nums[i] + pre);
            res = Math.max(pre, res);
        }
        return res;
    }


    /**
     *  æ—¶é—´è¶…é™
     * @param nums
     * @return
     */
    public int maxSubArray3(int[] nums) {
        int max = Integer.MIN_VALUE;
        for(int i = 0; i < nums.length; i ++) {
            for(int j = i ; j < nums.length; j ++) {
                int sum = 0;
                for(int k = i; k <= j; k ++) {
                    sum += nums[k];
                }
                if(sum > max)
                    max = sum;
            }
        }
        return max;
    }

    /**
     * ä»¥å‰çš„åˆ·é¢˜è®°å½•
     * @param nums
     * @return
     */
    public int maxSubArray2(int[] nums) {
        int pre = nums[0];
        int max = pre;
        for(int i = 1; i < nums.length; i ++) {
            pre = Math.max(pre + nums[i],nums[i]);
            if(pre > max)
                max = pre;
        }
        return max;
    }
    public static void main(String[] args) {
        int[] nums = {-2,1,-3,4,-1,2,1,-5,4};
        new Solution53().maxSubArray2(nums);
    }
}
//leetcode submit region end(Prohibit modification and deletion)
