package com.acm.lico.map;

/**
 è¢«å›´ç»•çš„åŒºåŸŸ:130
 2023-11-06 14:56:29
 //ç»™ä½ ä¸€ä¸ª m x n çš„çŸ©é˜µ board ï¼Œç”±è‹¥å¹²å­—ç¬¦ 'X' å’Œ 'O' ï¼Œæ‰¾åˆ°æ‰€æœ‰è¢« 'X' å›´ç»•çš„åŒºåŸŸï¼Œå¹¶å°†è¿™äº›åŒºåŸŸé‡Œæ‰€æœ‰çš„ 'O' ç”¨ 'X' å¡«å……
 //ã€‚
 //
 //
 //
 //
 //
 //
 //
 // ç¤ºä¾‹ 1ï¼š
 //
 //
 //è¾“å…¥ï¼šboard = [["X","X","X","X"],["X","O","O","X"],["X","X","O","X"],["X","O",
 //"X","X"]]
 //è¾“å‡ºï¼š[["X","X","X","X"],["X","X","X","X"],["X","X","X","X"],["X","O","X","X"]]
 //è§£é‡Šï¼šè¢«å›´ç»•çš„åŒºé—´ä¸ä¼šå­˜åœ¨äºè¾¹ç•Œä¸Šï¼Œæ¢å¥è¯è¯´ï¼Œä»»ä½•è¾¹ç•Œä¸Šçš„Â 'O'Â éƒ½ä¸ä¼šè¢«å¡«å……ä¸ºÂ 'X'ã€‚ ä»»ä½•ä¸åœ¨è¾¹ç•Œä¸Šï¼Œæˆ–ä¸ä¸è¾¹ç•Œä¸Šçš„Â 'O'Â ç›¸è¿çš„Â 'O'Â æœ€ç»ˆéƒ½
 //ä¼šè¢«å¡«å……ä¸ºÂ 'X'ã€‚å¦‚æœä¸¤ä¸ªå…ƒç´ åœ¨æ°´å¹³æˆ–å‚ç›´æ–¹å‘ç›¸é‚»ï¼Œåˆ™ç§°å®ƒä»¬æ˜¯â€œç›¸è¿â€çš„ã€‚
 //
 //
 // ç¤ºä¾‹ 2ï¼š
 //
 //
 //è¾“å…¥ï¼šboard = [["X"]]
 //è¾“å‡ºï¼š[["X"]]
 //
 //
 //
 //
 // æç¤ºï¼š
 //
 //
 // m == board.length
 // n == board[i].length
 // 1 <= m, n <= 200
 // board[i][j] ä¸º 'X' æˆ– 'O'
 //
 //
 // Related Topics æ·±åº¦ä¼˜å…ˆæœç´¢ å¹¿åº¦ä¼˜å…ˆæœç´¢ å¹¶æŸ¥é›† æ•°ç»„ çŸ©é˜µ ğŸ‘ 1048 ğŸ‘ 0

 **/

import java.util.Arrays;

/**
 1 å¤æ‚åº¦åˆ†æ
ä¼°ç®—é—®é¢˜ä¸­å¤æ‚åº¦çš„ä¸Šé™å’Œä¸‹é™
 æ—¶é—´å¤æ‚åº¦
 ç©ºé—´å¤æ‚åº¦
    O(1) ä¸€ä¸ªå¸¸é‡ä¸‹å®Œæˆ
    O(n) ä¸€æ¬¡éå†
    O(logn) æŠ˜åŠæŸ¥è¯¢
    O(n^2) ä¸¤é‡åµŒå¥—å¾ªç¯æŸ¥è¯¢
 2 å®šä½é—®é¢˜
æ ¹æ®é—®é¢˜ç±»å‹ï¼Œç¡®å®šé‡‡ç”¨ä½•ç§ç®—æ³•æ€ç»´ã€‚
    ä¾‹å¦‚
     è¿™ä¸ªé—®é¢˜æ˜¯ä»€ä¹ˆç±»å‹ï¼ˆæ’åºã€æŸ¥æ‰¾ã€æœ€ä¼˜åŒ–ï¼‰çš„é—®é¢˜ï¼›
     è¿™ä¸ªé—®é¢˜çš„å¤æ‚åº¦ä¸‹é™æ˜¯å¤šå°‘ï¼Œå³æœ€ä½çš„æ—¶é—´å¤æ‚åº¦å¯èƒ½æ˜¯å¤šå°‘ï¼›
     é‡‡ç”¨å“ªäº›æ•°æ®ç»“æ„æˆ–ç®—æ³•æ€ç»´ï¼Œèƒ½æŠŠè¿™ä¸ªé—®é¢˜è§£å†³ã€‚
 3 æ•°æ®æ“ä½œåˆ†æ
    æ ¹æ®å¢ã€åˆ ã€æŸ¥å’Œæ•°æ®é¡ºåºå…³ç³»å»é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œåˆ©ç”¨ç©ºé—´æ¢å–æ—¶é—´ã€‚
 4 ç¼–ç å®ç°
 æ•°ç»„ä¸‹æ ‡å¼„åäº†
 5 æ‰§è¡Œç»“æœ
 æ‰§è¡Œç»“æœï¼š é€šè¿‡ æ˜¾ç¤ºè¯¦æƒ… æ·»åŠ å¤‡æ³¨
 æ‰§è¡Œç”¨æ—¶ï¼š 1 ms , åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº† 99.93% çš„ç”¨æˆ·
 å†…å­˜æ¶ˆè€—ï¼š 43.6 MB , åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº† 24.56% çš„ç”¨æˆ·
 é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š 58 / 58
 */
public class Solution130 {

    /**
     1 å¤æ‚åº¦åˆ†æ
     ä¼°ç®—é—®é¢˜ä¸­å¤æ‚åº¦çš„ä¸Šé™å’Œä¸‹é™
     æ—¶é—´å¤æ‚åº¦  O(N*M)
     ç©ºé—´å¤æ‚åº¦  O(N*M)
     O(1) ä¸€ä¸ªå¸¸é‡ä¸‹å®Œæˆ
     O(n) ä¸€æ¬¡éå†
     O(logn) æŠ˜åŠæŸ¥è¯¢
     O(n^2) ä¸¤é‡åµŒå¥—å¾ªç¯æŸ¥è¯¢
     2 å®šä½é—®é¢˜
     æ ¹æ®é—®é¢˜ç±»å‹ï¼Œç¡®å®šé‡‡ç”¨ä½•ç§ç®—æ³•æ€ç»´ã€‚
     ä¾‹å¦‚
     è¿™ä¸ªé—®é¢˜æ˜¯ä»€ä¹ˆç±»å‹ï¼ˆæ’åºã€æŸ¥æ‰¾ã€æœ€ä¼˜åŒ–ï¼‰çš„é—®é¢˜ï¼›
     è¿™ä¸ªé—®é¢˜çš„å¤æ‚åº¦ä¸‹é™æ˜¯å¤šå°‘ï¼Œå³æœ€ä½çš„æ—¶é—´å¤æ‚åº¦å¯èƒ½æ˜¯å¤šå°‘ï¼›
     é‡‡ç”¨å“ªäº›æ•°æ®ç»“æ„æˆ–ç®—æ³•æ€ç»´ï¼Œèƒ½æŠŠè¿™ä¸ªé—®é¢˜è§£å†³ã€‚
     æ€è·¯ï¼š æ·±åº¦ä¼˜å…ˆä¾¿åˆ©ã€‚
     1. æœ€ç»ˆç»“æœæ˜¯O çš„ ä¸€å®šæ˜¯ 4è¾¹æ˜¯Oçš„ï¼Œç„¶åå¾€4ä¸ªæ–¹å‘å‘å±•æœ‰å…³è”çš„ã€‚
     2. å…ˆå¯¹ 4è¾¹è¿›è¡Œæ·±åº¦æœç´¢ï¼ŒOçš„å…ƒç´ æ ‡è®°æˆ 'A'ã€‚
     3. ç„¶åä¾¿åˆ©æ‰€æœ‰å…ƒç´ ï¼Œ 'A' æ”¹æˆ 'O' ã€‚ 'O' æ”¹æˆ 'X'ã€‚

     3 æ•°æ®æ“ä½œåˆ†æ
     æ ¹æ®å¢ã€åˆ ã€æŸ¥å’Œæ•°æ®é¡ºåºå…³ç³»å»é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œåˆ©ç”¨ç©ºé—´æ¢å–æ—¶é—´ã€‚
     4 ç¼–ç å®ç°
     5 æ‰§è¡Œç»“æœ
     è§£ç­”æˆåŠŸ:
     æ‰§è¡Œè€—æ—¶:1 ms,å‡»è´¥äº†99.91% çš„Javaç”¨æˆ·
     å†…å­˜æ¶ˆè€—:42.4 MB,å‡»è´¥äº†97.61% çš„Javaç”¨æˆ·
     */
    public void solveNew20(char[][] board) {
        if(board == null || board.length <= 1  || board[0].length <= 1 ) {
            return;
        }
        int n = board.length;
        int m = board[0].length;
        for(int i = 0; i < m; i ++) {
            dfs2(board, 0, i);
            dfs2(board, n - 1, i);
        }

        for(int i = 1; i < n - 1; i ++ ) {
            dfs2(board, i, 0);
            dfs2(board, i, m - 1);
        }

        for(int i = 0; i < n; i ++) {
            for(int j = 0; j < m; j ++) {
                if(board[i][j] == 'A') {
                    board[i][j] = 'O';
                } else if(board[i][j] == 'O') {
                    board[i][j] = 'X';
                }
            }
        }

    }

    private void dfs2(char[][] boards, int x, int y ) {
        if(x >= 0 && x < boards.length && y >= 0 && y < boards[0].length && boards[x][y] == 'O') {
            boards[x][y] = 'A';
            int[] directs = {-1, 0 , 1, 0, -1};
            for(int i = 0; i < directs.length - 1; i ++) {
                dfs2(boards, x + directs[i], y + directs[i + 1]);
            }
        }
    }

    public void solve(char[][] board) {
        int high_size = board.length;
        if (high_size <= 1){
            return;
        }
        int width_size = board[0].length;
        if (width_size <= 1) {
            return ;
        }


        for(int i = 0; i < width_size ; i ++ ) {
            int high = 0;
            dfs(board,high,i);
            high = high_size -1;
            dfs(board,high, i);

        }

        for(int i = 0; i < high_size ; i ++) {
            dfs(board,i,0);
            dfs(board,i, width_size - 1);
        }



        for(int i = 0; i < high_size ; i ++) {
            for (int j = 0; j < width_size ; j ++) {
                if(board[i][j] == 'A') {
                    board[i][j] = 'O';
                } else if(board[i][j] == 'O') {
                    board[i][j] = 'X';
                }

            }
        }



    }

    public void dfs(char[][] board, int y, int x ) {
        int high_size = board.length ;
        int width_size = board[0].length ;
       if (x < 0|| y < 0 || x >= width_size || y >= high_size || board[y][x] != 'O') {
           return;
       }

        board[y][x] = 'A';
        dfs(board,y, x+1);
        dfs(board,y, x-1);
        dfs(board,y-1, x);
        dfs(board,y+1, x );

    }
//    [['O','O','O'],['O','O','O'],['O','O','O']]
//    è¾“å‡ºï¼š
//            [['O','O','O'],['O','X','O'],['O','O','O']]
//    é¢„æœŸç»“æœï¼š
//            [['O','O','O'],['O','O','O'],['O','O','O']]
    public static void main(String[] args) {
//        char[][] t = {{'O','O','O'},{'O','O','O'},{'O','O','O'}};
        char[][] t =   {{'X','O','X','O','X','O'},{'O','X','O','X','O','X'},{'X','O','X','O','X','O'},{'O','X','O','X','O','X'}};
        new Solution130().solve(t);
        for (char[] i : t){
            System.out.println(Arrays.toString(i));
        }
    }
}
