package com.acm.lico.stack; /**
 æœ€å¤§çŸ©å½¢:85
 2023-01-26 16:08:57
 //ç»™å®šä¸€ä¸ªä»…åŒ…å« 0 å’Œ 1 ã€å¤§å°ä¸º rows x cols çš„äºŒç»´äºŒè¿›åˆ¶çŸ©é˜µï¼Œæ‰¾å‡ºåªåŒ…å« 1 çš„æœ€å¤§çŸ©å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚
 //
 //
 //
 // ç¤ºä¾‹ 1ï¼š
 //
 //
 //è¾“å…¥ï¼šmatrix = [["1","0","1","0","0"],["1","0","1","1","1"],["1","1","1","1","1"]
 //,["1","0","0","1","0"]]
 //è¾“å‡ºï¼š6
 //è§£é‡Šï¼šæœ€å¤§çŸ©å½¢å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚
 //
 //
 // ç¤ºä¾‹ 2ï¼š
 //
 //
 //è¾“å…¥ï¼šmatrix = []
 //è¾“å‡ºï¼š0
 //
 //
 // ç¤ºä¾‹ 3ï¼š
 //
 //
 //è¾“å…¥ï¼šmatrix = [["0"]]
 //è¾“å‡ºï¼š0
 //
 //
 // ç¤ºä¾‹ 4ï¼š
 //
 //
 //è¾“å…¥ï¼šmatrix = [["1"]]
 //è¾“å‡ºï¼š1
 //
 //
 // ç¤ºä¾‹ 5ï¼š
 //
 //
 //è¾“å…¥ï¼šmatrix = [["0","0"]]
 //è¾“å‡ºï¼š0
 //
 //
 //
 //
 // æç¤ºï¼š
 //
 //
 // rows == matrix.length
 // cols == matrix[0].length
 // 1 <= row, cols <= 200
 // matrix[i][j] ä¸º '0' æˆ– '1'
 //
 //
 // Related Topics æ ˆ æ•°ç»„ åŠ¨æ€è§„åˆ’ çŸ©é˜µ å•è°ƒæ ˆ ğŸ‘ 1452 ğŸ‘ 0

 **/

/**
 1 å¤æ‚åº¦åˆ†æ
 ä¼°ç®—é—®é¢˜ä¸­å¤æ‚åº¦çš„ä¸Šé™å’Œä¸‹é™
 æ—¶é—´å¤æ‚åº¦
 ç©ºé—´å¤æ‚åº¦
 O(1) ä¸€ä¸ªå¸¸é‡ä¸‹å®Œæˆ
 O(n) ä¸€æ¬¡éå†
 O(logn) æŠ˜åŠæŸ¥è¯¢
 O(n^2) ä¸¤é‡åµŒå¥—å¾ªç¯æŸ¥è¯¢

 æš´åŠ›çš„æ–¹å¼ï¼š
 æ—¶é—´å¤æ‚åº¦ O(N^2*M)
 ç©ºé—´å¤æ‚åº¦O(N*M)

 2 å®šä½é—®é¢˜
 æ ¹æ®é—®é¢˜ç±»å‹ï¼Œç¡®å®šé‡‡ç”¨ä½•ç§ç®—æ³•æ€ç»´ã€‚
 ä¾‹å¦‚
 è¿™ä¸ªé—®é¢˜æ˜¯ä»€ä¹ˆç±»å‹ï¼ˆæ’åºã€æŸ¥æ‰¾ã€æœ€ä¼˜åŒ–ï¼‰çš„é—®é¢˜ï¼›
 è¿™ä¸ªé—®é¢˜çš„å¤æ‚åº¦ä¸‹é™æ˜¯å¤šå°‘ï¼Œå³æœ€ä½çš„æ—¶é—´å¤æ‚åº¦å¯èƒ½æ˜¯å¤šå°‘ï¼›
 é‡‡ç”¨å“ªäº›æ•°æ®ç»“æ„æˆ–ç®—æ³•æ€ç»´ï¼Œèƒ½æŠŠè¿™ä¸ªé—®é¢˜è§£å†³ã€‚
 æ€è·¯ä¸€ æš´åŠ›æ±‚è§£ï¼š
 è®¡ç®—å‡ºè¿ç»­çš„å®½åº¦æ˜¯å¤šå°‘ã€‚ ç„¶åæš´åŠ›é«˜åº¦ä¹˜ä»¥ å®½åº¦ï¼Œç®—æœ€å¤§å€¼ã€‚
 3 æ•°æ®æ“ä½œåˆ†æ
 æ ¹æ®å¢ã€åˆ ã€æŸ¥å’Œæ•°æ®é¡ºåºå…³ç³»å»é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œåˆ©ç”¨ç©ºé—´æ¢å–æ—¶é—´ã€‚
 4 ç¼–ç å®ç°
 5 æ‰§è¡Œç»“æœ
 æš´åŠ›çš„æ–¹å¼ï¼š
 è§£ç­”æˆåŠŸ:
 æ‰§è¡Œè€—æ—¶:19 ms,å‡»è´¥äº†35.11% çš„Javaç”¨æˆ·
 å†…å­˜æ¶ˆè€—:45.7 MB,å‡»è´¥äº†37.34% çš„Javaç”¨æˆ·

 */

//leetcode submit region begin(Prohibit modification and deletion)
class Solution85 {
    public int maximalRectangle(char[][] matrix) {
        int n = matrix.length;
        int m = matrix[0].length;
        int[][] widths = new int[n][m];

        for(int i = 0; i < n; i ++) {
            for(int j = 0; j < m; j ++) {
                if(matrix[i][j] == '1') {
                    widths[i][j] = j == 0 ? 1:( widths[i][j - 1] + 1);
                }
            }
        }
        int res = 0;
        for(int i = 0; i < n; i ++) {
            for(int j = 0; j < m; j ++) {
                int width = widths[i][j];
                int area = width;

                for(int k = i -1; k >= 0; k --) {
                    int height = i - k + 1;
                    width = Math.min(widths[k][j], width);
                    area = Math.max(area, height * width);
                }

                res = Math.max(res, area);
            }
        }
        return res;
    }
}
//leetcode submit region end(Prohibit modification and deletion)
